<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8"/>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"></script>
        <script type="text/javascript" src="js/jquery.ui.treemap.js"></script>
        <style type="text/css">
            div {
                font: 0.7em Verdana, Geneva, sans-serif;
            }
            .sizeByOptionLabel {
                display: inline-block;
                color: #aaa;
            }
            .sizeByOption {
                display: inline-block;
                border: 1px solid #ccc;
                padding: 0px 10px 0px 10px;
                margin: 0px 0px 0px 0px;
                color: #666;
            }
        </style>
    </head>
    <body>
        <div class="sizeByOptionLabel">Size By:</div>
        <div class="sizeByOption" id="sizeBy0">Area</div>
        <div class="sizeByOption" id="sizeBy1" style="background-color:#ddd">Population</div>
        <div class="sizeByOption" id="sizeBy2">Life Expectancy</div>
        <div class="sizeByOption" id="sizeBy3">Infant Mortality</div>
        <div id="treemap"></div>
	      <script type="text/javascript">
            var init = function(){
                var createTreemap = function() {
                    $("#treemap").treemap({
                        "dimensions":[900,400],
                        "sizeOption":1,
                        "nodeData": {
                            "id":"2fc414e2", "children":[
                                {"id":"node 1", "size":[.25,.7078533757055014,.08038695496678606,.1798013810278924], "color":[.74]},
                                {"id":"node 2", "size":[.25,.04716253184550722,.11885651163331237,.21906028099441757], "color":[.98]},
                                {"id":"node 3", "size":[.16667,.06122787130028486,.22720306420190928,.13172295366450237], "color":[.39]},
                                {"id":"node 4", "size":[.125,.030236144312274546,.13194188815903038,.22872719830190025], "color":[.19]},
                                {"id":"node 5", "size":[.083333,.13627056790452963,.19140993988513774,.008958104928028555], "color":[.52]},
                                {"id":"node 6", "size":[.083333,.008355967011586606,.12493818313339286,.15427971304890944], "color":[.98]},
                                {"id":"node 7", "size":[.041666667,.00889354192031559,.12526345802043118,.07745036803434943], "color":[.74]}
                            ]
                        }
                    });
                };
                $(".sizeByOption").mouseenter(function(){
                    $(".sizeByOption").css("background-color","");
                    $(this).css("background-color","#ddd");
                    $("#treemap").unbind().treemap("option","sizeOption",$(this).attr("id").match(/[0-9]+/));
                });
                createTreemap();   
            };
            $(document).ready(function(){
                init();
            });
        </script>
    </body>
</html>

